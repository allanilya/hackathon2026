---
phase: 01-foundation-design-system
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - postcss.config.mjs
  - package.json
  - next.config.ts
  - tsconfig.json
  - app/layout.tsx
  - app/page.tsx
  - app/globals.css
autonomous: true

must_haves:
  truths:
    - "Next.js 15 dev server starts without errors on localhost:3000"
    - "Tailwind CSS v4 PostCSS plugin processes styles correctly"
    - "Lenis, GSAP, and @gsap/react packages are installed"
  artifacts:
    - path: "postcss.config.mjs"
      provides: "Tailwind v4 PostCSS configuration"
      contains: "@tailwindcss/postcss"
    - path: "package.json"
      provides: "Project dependencies"
      contains: "lenis"
    - path: "app/globals.css"
      provides: "Tailwind v4 CSS import"
      contains: '@import "tailwindcss"'
  key_links:
    - from: "postcss.config.mjs"
      to: "app/globals.css"
      via: "PostCSS processes @import tailwindcss"
      pattern: "@tailwindcss/postcss"
---

<objective>
Scaffold the Next.js 15 project with TypeScript, Tailwind CSS v4, and install all animation dependencies. Configure PostCSS for Tailwind v4's CSS-first approach.

Purpose: Establish the project foundation so design system and animation infrastructure can be built on top.
Output: A running Next.js 15 dev server with Tailwind v4 processing styles and all dependencies installed.
</objective>

<execution_context>
@C:\Users\antoi\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\antoi\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-design-system/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Next.js 15 project and install dependencies</name>
  <files>package.json, postcss.config.mjs, next.config.ts, tsconfig.json, app/layout.tsx, app/page.tsx, app/globals.css</files>
  <action>
    Run create-next-app to scaffold the project in the current directory (Spark). The project should already be the working directory, so scaffold INTO it:

    ```bash
    npx create-next-app@latest . --typescript --tailwind --eslint --app --no-src-dir --import-alias "@/*" --yes
    ```

    If the directory is not empty (due to .planning folder), the scaffolder may complain. In that case, scaffold into a temp directory and move files:

    ```bash
    npx create-next-app@latest spark-temp --typescript --tailwind --eslint --app --no-src-dir --import-alias "@/*" --yes
    ```
    Then move all files from spark-temp into the current directory (excluding .planning which already exists), and remove spark-temp.

    After scaffolding, install the additional dependencies:

    ```bash
    npm install lenis gsap @gsap/react
    ```

    IMPORTANT: Do NOT install `tailwindcss@next` or `@tailwindcss/postcss` separately yet — create-next-app with `--tailwind` may already configure Tailwind. Check what version was installed first. If Tailwind v3 was installed, upgrade:

    ```bash
    npm install tailwindcss@latest @tailwindcss/postcss
    ```
  </action>
  <verify>
    Run `npm run dev` and confirm the dev server starts without errors.
    Run `npm ls tailwindcss` to confirm Tailwind v4.x is installed.
    Run `npm ls lenis gsap @gsap/react` to confirm animation deps are present.
  </verify>
  <done>Dev server starts on localhost:3000 showing the Next.js default page. Tailwind CSS v4, Lenis, GSAP, and @gsap/react are all in package.json dependencies.</done>
</task>

<task type="auto">
  <name>Task 2: Configure PostCSS for Tailwind CSS v4 and clean globals.css</name>
  <files>postcss.config.mjs, app/globals.css</files>
  <action>
    Check the current postcss.config.mjs. If it uses the old `tailwindcss` plugin, replace it with Tailwind v4's plugin.

    Update `postcss.config.mjs` to:
    ```javascript
    export default {
      plugins: {
        '@tailwindcss/postcss': {},
      },
    }
    ```

    Update `app/globals.css` to use Tailwind v4 syntax. Replace any `@tailwind base; @tailwind components; @tailwind utilities;` directives with the single v4 import:
    ```css
    @import "tailwindcss";
    ```

    Remove any default Next.js styling from globals.css (keep only the @import line for now — design tokens will be added in Plan 02).

    If there is a `tailwind.config.js` or `tailwind.config.ts` file, DELETE it — Tailwind v4 uses CSS-first configuration via @theme in globals.css, not a JS config file.
  </action>
  <verify>
    Run `npm run dev` and confirm no PostCSS or Tailwind errors in console.
    Confirm `tailwind.config.js` / `tailwind.config.ts` does NOT exist.
    Confirm `postcss.config.mjs` contains `@tailwindcss/postcss`.
    Confirm `app/globals.css` starts with `@import "tailwindcss"` (no @tailwind directives).
  </verify>
  <done>PostCSS configured with @tailwindcss/postcss plugin. globals.css uses @import "tailwindcss" (v4 syntax). No tailwind.config.js exists. Dev server runs cleanly.</done>
</task>

</tasks>

<verification>
1. `npm run dev` starts without errors
2. `npm ls tailwindcss` shows v4.x
3. `npm ls lenis gsap @gsap/react` shows all three installed
4. No `tailwind.config.js` or `tailwind.config.ts` in project root
5. `postcss.config.mjs` uses `@tailwindcss/postcss`
6. `app/globals.css` starts with `@import "tailwindcss"`
</verification>

<success_criteria>
- Next.js 15 dev server runs on localhost:3000
- Tailwind CSS v4 processes styles via @tailwindcss/postcss
- Lenis, GSAP, and @gsap/react installed in package.json
- Clean project structure ready for design system and animation setup
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-design-system/01-01-SUMMARY.md`
</output>
